/* ============================================
   BASE / GLOBAL STYLES
   ============================================ */

/* Smooth transition for theme changes */
body,
header,
section,
.nav .container,
.nav-btn,
.mobile-nav-link,
.project-card,
.case-study-card,
#mobile-menu,
#preloader {
  transition: background-color 0.4s ease, color 0.4s ease,
    border-color 0.4s ease;
}

/* Exclude SVG rect from theme transitions */
.rect {
  transition: stroke-dashoffset 0.5s, stroke-dasharray 0.5s !important;
}

/* Global Styles */
html,
body {
  scroll-behavior: auto;
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

html.lenis,
html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: #e4ded2;
}

::-webkit-scrollbar-thumb {
  background: #f95c4b;
  border-radius: 10px;
  border: 3px solid #e4ded2;
}

::-webkit-scrollbar-thumb:hover {
  background: #000000;
}

/* GSAP Initial States */
.gsap-header {
  opacity: 0;
  visibility: hidden;
}

.gsap-hero-text {
  opacity: 0;
  transform: translateY(50px);
}

.gsap-hero-img {
  opacity: 0;
  transform: scale(0.8);
}

#mobile-menu {
  visibility: hidden;
  opacity: 0;
}

.gsap-reveal {
  opacity: 0;
  transform: translateY(30px);
}

/* ============================================
   MOBILE VIEWPORT HEIGHT UTILITIES
   Using dvh (dynamic) and svh (small) for better mobile support
   ============================================ */

/* Full height sections - use dvh for dynamic adjustment with address bar */
@supports (height: 100dvh) {
  .min-h-screen {
    min-height: 100dvh !important;
  }

  #mobile-menu {
    height: 100dvh !important;
  }

  #preloader {
    height: 100dvh !important;
  }
}

/* Fallback for browsers that don't support dvh */
@supports not (height: 100dvh) {
  .min-h-screen {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }

  #mobile-menu {
    height: 100vh;
    height: -webkit-fill-available;
  }

  #preloader {
    height: 100vh;
    height: -webkit-fill-available;
  }
}

/* Hero section uses svh for stable height (doesn't change with address bar) */
@supports (min-height: 100svh) {
  .site-banner {
    min-height: 100svh !important;
  }
}

/* Mobile-specific adjustments */
@media (max-width: 768px) {
  /* Ensure proper scrolling on mobile */
  html,
  body {
    overflow-x: hidden;
  }

  /* Touch-friendly tap targets */
  .nav-btn,
  .mobile-nav-link {
    min-height: 44px;
    display: flex;
    align-items: center;
  }

  /* Safe area insets for notched phones */
  .site-banner {
    padding-top: max(8rem, env(safe-area-inset-top));
  }

  #mobile-menu {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Prevent content from going under mobile browser UI */
  #contact {
    padding-bottom: max(6rem, env(safe-area-inset-bottom));
  }
}
